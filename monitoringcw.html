<!DOCTYPE html>
<!-- saved from url=(0059)https://unilaprojectheti.id/monitoring/cvw?timeline_week=41 -->
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MONITORING CIVIL WORK -</title>
  <link href="./MONITORING CIVIL WORK -41_files/tailwind.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="./MONITORING CIVIL WORK -41_files/jquery.fancybox.min.css" />

  <style>
    #preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .loader {
      width: 50%;
      height: 8px;
      background-color: #e5e7eb;
      /* gray-200 */
      overflow: hidden;
      position: relative;
      margin-top: 25px;
      /* Jarak antara gambar dan animasi loading */
    }

    .loader::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 25%;
      background-color: #3b82f6;
      /* blue-500 */
      animation: loading 1.5s infinite;
    }

    @keyframes loading {
      0% {
        left: -25%;
      }

      50% {
        left: 50%;
      }

      100% {
        left: 100%;
      }
    }

    .colorprimary {
      background-color: #26778f;
    }
  </style>

  <style>
    .tab-button.active {
      background-color: #3b82f6;
      color: #ffffff;
    }

    .tab-button {
      cursor: pointer;
      background-color: #d1d5db;
      color: #1f2937;
    }

    .gallery {
      display: none;
    }

    .gallery.active {
      display: block;
    }

    .gallery img {
      object-fit: cover;
      width: 100%;
      height: 200px;
    }

    .gallery a {
      display: block;
    }

    .gallery figcaption {
      text-align: center;
      padding: 0.5rem;
      background-color: #f1f1f1;
      height: 3rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    figure {
      display: inline-block;
      margin: 0;
      padding: 0;
      max-width: 100%;
    }

    figure img {
      width: 100%;
      height: auto;
    }

    figcaption {
      padding: 10px;
      font-size: 0.8em;
      text-align: center;
      word-wrap: break-word;
      background-color: #f5f5f5;
      max-width: 100%;
    }

    @media (max-width: 600px) {
      figcaption {
        font-size: 0.9em;
      }
    }
  </style>
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
</head>

<body>
  <!-- Preloader -->
  <div id="preloader" style="display: none">
    <img src="./MONITORING CIVIL WORK -41_files/logo.png" alt="Logos" class="h-18" />
    <div class="loader"></div>
  </div>

  <!-- Header Section -->
  <header class="bg-white shadow text-white shadow-lg sticky top-0 z-50">
    <div class="ml-6 mr-6 mx-auto flex justify-between items-center py-4 px-4">
      <a href="https://unilaprojectheti.id/" class="text-2xl font-bold">
        <img src="./MONITORING CIVIL WORK -41_files/logo.png" alt="Logo" class="h-14" /></a>
      <nav class="hidden md:flex space-x-8">
        <a href="https://unilaprojectheti.id/" class="text-gray-800 font-semibold">HOME</a>
        <div class="relative">
          <button class="text-gray-800 font-semibold">MONITORING</button>
          <div class="absolute mt-2 w-48 bg-white shadow-lg rounded hidden">
            <a href="https://unilaprojectheti.id/monitoring/cvw?timeline_week=47"
              class="block px-4 py-2 text-gray-800 font-semibold hover:bg-gray-100">CIVIL WORK</a>
            <a href="https://unilaprojectheti.id/monitoring/pmsc"
              class="block px-4 py-2 text-gray-800 font-semibold hover:bg-gray-100">PMSC</a>
          </div>
        </div>
        <a href="https://e-prog.unilaprojectheti.id/" class="text-gray-800 font-semibold">E-PROG</a>
        <a href="https://unilaprojectheti.id/#about" class="text-gray-800 font-semibold">ABOUT</a>
        <a href="https://unilaprojectheti.id/#contact" class="text-gray-800 font-semibold">CONTACT</a>
      </nav>
      <div class="md:hidden">
        <button id="menu-button" class="focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
          </svg>
        </button>
      </div>
    </div>
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-white shadow text-white">
      <nav class="flex flex-col space-y-2 py-4 px-4">
        <a href="https://unilaprojectheti.id/" class="text-gray-800 font-semibold">HOME</a>
        <div class="relative">
          <button class="text-gray-800 font-semibold">MONITORING</button>
          <div class="absolute mt-2 w-48 bg-white shadow-lg rounded hidden">
            <a href="https://unilaprojectheti.id/monitoring/cvw?timeline_week=47"
              class="block px-4 py-2 text-gray-800 font-semibold hover:bg-gray-100">CIVIL WORK</a>
            <a href="https://unilaprojectheti.id/monitoring/pmsc"
              class="block px-4 py-2 text-gray-800 font-semibold hover:bg-gray-100">PMSC</a>
          </div>
        </div>
        <a href="https://e-prog.unilaprojectheti.id/" class="text-gray-800 font-semibold">E-PROG</a>
        <a href="https://unilaprojectheti.id/#about" class="text-gray-800 font-semibold">ABOUT</a>
        <a href="https://unilaprojectheti.id/#contact" class="text-gray-800 font-semibold">CONTACT</a>
      </nav>
    </div>
  </header>

  <div class="m-5 space-y-4">
    <div class="p-6 bg-white shadow rounded-lg">
      <div class="pt-6 pb-6">
        <div class="mb-4 colorprimary text-white p-4">
          <h1 class="text-xl font-extrabold text-center text-white">
            MONITORING CIVIL WORK UNILA
          </h1>
        </div>

        <table class="table-auto w-full border-collapse border border-gray-200">
          <tbody>
            <tr>
              <td class="py-2 px-4 border bg-gray-100">Work</td>
              <td class="py-2 px-4 border">
                CWU Development of RSPTN, IRC and WWTP University of Lampung
              </td>
            </tr>
            <tr>
              <td class="py-2 px-4 border bg-gray-100">Client</td>
              <td class="py-2 px-4 border">University of Lampung (UNILA)</td>
            </tr>
            <tr>
              <td class="py-2 px-4 border bg-gray-100">Contract No</td>
              <td class="py-2 px-4 border">1484/UN26/HK.01/2024</td>
            </tr>
            <tr>
              <td class="py-2 px-4 border bg-gray-100">Contract Time</td>
              <td class="py-2 px-4 border">
                Febuary 26, 2024 - August 29, 2025
              </td>
            </tr>
            <tr>
              <td class="py-2 px-4 border bg-gray-100">Contract Value</td>
              <td class="py-2 px-4 border">IDR 198.865.665.859</td>
            </tr>
            <tr>
              <td class="py-2 px-4 border bg-gray-100">Budget</td>
              <td class="py-2 px-4 border">LOAN ADB No. 4110-INO</td>
            </tr>
            <tr>
              <td class="py-2 px-4 border bg-gray-100">Project</td>
              <td class="py-2 px-4 border">
                Higher Education for Technology and Innovation (HETI) Project
              </td>
            </tr>
            <tr>
              <td class="py-2 px-4 border bg-gray-100">Location</td>
              <td class="py-2 px-4 border">
                Jalan Prof. Dr. Ir. Sumantri Brojonegoro No.1, Kota Bandar
                Lampung, Lampung 35141
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="pt-6 pb-6">
        <div class="block mb-4 text-bold colorprimary text-white p-4">
          S-curve
        </div>
        <canvas id="ctxGrafik3" style="
              display: block;
              box-sizing: border-box;
              height: 500px;
              width: 1000px;
            " width="600" height="auto"></canvas>
      </div>

      <div class="pt-6 pb-6">
        <table class="table-auto w-full border-collapse border border-white-200">
          <thead>
            <tr class="colorprimary text-white">
              <th colspan="3" class="text-center py-2">Filter Data</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="py-2 px-4 border" style="width: 10%">Periode</td>
              <td class="py-2 px-4 border" style="width: 90%">
                <select name="timeline_week" id="weekFilter"
                  class="select2 w-full border border-black rounded p-1 text-black ">
                  <option value="1">Week 1</option>
                  <option value="2">Week 2</option>
                  <option value="3">Week 3</option>
                  <option value="4">Week 4</option>
                  <option value="5">Week 5</option>
                  <option value="6">Week 6</option>
                  <option value="7">Week 7</option>
                  <option value="8">Week 8</option>
                  <option value="9">Week 9</option>
                  <option value="10">Week 10</option>
                  <option value="11">Week 11</option>
                  <option value="12">Week 12</option>
                  <option value="13">Week 13</option>
                  <option value="14">Week 14</option>
                  <option value="15">Week 15</option>
                  <option value="16">Week 16</option>
                  <option value="17">Week 17</option>
                  <option value="18">Week 18</option>
                  <option value="19">Week 19</option>
                  <option value="20">Week 20</option>
                  <option value="21">Week 21</option>
                  <option value="22">Week 22</option>
                  <option value="23">Week 23</option>
                  <option value="24">Week 24</option>
                  <option value="25">Week 25</option>
                  <option value="26">Week 26</option>
                  <option value="27">Week 27</option>
                  <option value="28">Week 28</option>
                  <option value="29">Week 29</option>
                  <option value="30">Week 30</option>
                  <option value="31">Week 31</option>
                  <option value="32">Week 32</option>
                  <option value="33">Week 33</option>
                  <option value="34">Week 34</option>
                  <option value="35">Week 35</option>
                  <option value="36">Week 36</option>
                  <option value="37">Week 37</option>
                  <option value="38">Week 38</option>
                  <option value="39">Week 39</option>
                  <option value="40">Week 40</option>
                  <option value="41">
                    Week 41
                  </option>
                  <option value="42">Week 42</option>
                  <option value="43">Week 43</option>
                  <option value="44">Week 44</option>
                  <option value="45">Week 45</option>
                  <option value="46">Week 46</option>
                  <option value="47">Week 47</option>
                  <option value="48">Week 48</option>
                  <option value="49">Week 49</option>
                  <option value="50">Week 50</option>
                  <option selected value="51">Week 51</option>
                  <option value="52">Week 52</option>
                  <option value="53">Week 53</option>
                  <option value="54">Week 54</option>
                  <option value="55">Week 55</option>
                  <option value="56">Week 56</option>
                  <option value="57">Week 57</option>
                  <option value="58">Week 58</option>
                  <option value="59">Week 59</option>
                  <option value="60">Week 60</option>
                  <option value="61">Week 61</option>
                  <option value="62">Week 62</option>
                  <option value="63">Week 63</option>
                  <option value="64">Week 64</option>
                  <option value="65">Week 65</option>
                  <option value="66">Week 66</option>
                  <option value="67">Week 67</option>
                  <option value="68">Week 68</option>
                  <option value="69">Week 69</option>
                  <option value="70">Week 70</option>
                  <option value="71">Week 71</option>
                  <option value="72">Week 72</option>
                  <option value="73">Week 73</option>
                  <option value="74">Week 74</option>
                  <option value="75">Week 75</option>
                  <option value="76">Week 76</option>
                  <option value="77">Week 77</option>
                  <option value="78">Week 78</option>
                  <option value="79">Week 79</option>
                  <option value="80">Week 80</option>
                  <option value="81">Week 81</option>
                  <option value="82">Week 82</option>
                  <option value="83">Week 83</option>
                  <option value="84">Week 84</option>
                  <option value="85">Week 85</option>
                </select>

              </td>
            </tr>
            <tr>
              <td class="py-2 px-4 border">Date</td>
              <td class="py-2 px-4 border">
                December 8, 2024 - December 14, 2024
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="pt-6 pb-6">
        <div class="overflow-x-auto pb-10">
          <table class="table-auto w-full border-collapse border border-white-200">
            <thead class="colorprimary text-white">
              <tr class="colorprimary text-white">
                <th colspan="9" class="text-center py-2">
                  Monitoring Work Progress <span data-nameweek="true"></span>
                </th>
              </tr>
              <tr>
                <th rowspan="2" class="py-2 px-4 border">Building</th>
                <th colspan="3" class="text-center py-2 px-4 border">Plan</th>
                <th colspan="3" class="text-center py-2 px-4 border">
                  Realization
                </th>
                <th rowspan="2" class="py-2 px-4 border">Deviation</th>
                <th rowspan="2" class="py-2 px-4 border">
                  Remaining Progress from (100%)
                </th>
              </tr>
              <tr>
                <th class="py-2 px-4 border">until Last Sunday</th>
                <th class="py-2 px-4 border">This Week's Progress</th>
                <th class="py-2 px-4 border">until This Week</th>
                <th class="py-2 px-4 border">until Last Sunday</th>
                <th class="py-2 px-4 border">This Week's Progress</th>
                <th class="py-2 px-4 border">until This Week</th>
              </tr>
            </thead>
            <tbody>
              <!-- <tr>
                <td colspan="9" class="text-center font-bold py-2 px-4 border">
                  CCO-01
                </td>
              </tr> -->
              <tr id="buildingRSPTN">
              </tr>
              <tr id="buildingIRC">

              </tr>
              <tr id="buildingWWTP">

              </tr>
              <tr class="bg-blue-200" id="buildingTotal">

              </tr>
            </tbody>
          </table>
        </div>

        <!-- <div class="overflow-x-auto">
          <table class="table-auto w-full border-collapse border border-white-200">
            <thead class="colorprimary text-white">
              <tr>
                <th class="text-center py-2 border" rowspan="2">
                  Description
                </th>
                <th class="text-center py-2 border" colspan="2">
                  Plan for Next (Week 42)
                </th>
              </tr>
              <tr>
                <th class="text-center py-2 border">Weekly Plan</th>
                <th class="text-center py-2 border">Cumulative Plan</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="3" class="text-center font-bold py-2 px-4 border">
                  INITIAL
                </td>
              </tr>
              <tr>
                <td class="py-2 px-4 border">RSPTN</td>
                <td class="py-2 px-4 border">2.84%</td>
                <td class="py-2 px-4 border">47.87%</td>
              </tr>
              <tr>
                <td class="py-2 px-4 border">IRC</td>
                <td class="py-2 px-4 border">0.00%</td>
                <td class="py-2 px-4 border">0.00%</td>
              </tr>
              <tr>
                <td class="py-2 px-4 border">WWTP</td>
                <td class="py-2 px-4 border">0.00%</td>
                <td class="py-2 px-4 border">0.00%</td>
              </tr>
              <tr class="bg-blue-200">
                <td class="py-2 px-4 border font-bold">Total</td>
                <td class="py-2 px-4 border">2.84%</td>
                <td class="py-2 px-4 border">47.87%</td>
              </tr>
              <tr>
                <td colspan="3" class="text-center font-bold py-2 px-4 border">
                  CCO-01
                </td>
              </tr>
              <tr>
                <td class="py-2 px-4 border">RSPTN</td>
                <td class="py-2 px-4 border">0.39%</td>
                <td class="py-2 px-4 border">23.57%</td>
              </tr>
              <tr>
                <td class="py-2 px-4 border">IRC</td>
                <td class="py-2 px-4 border">0.15%</td>
                <td class="py-2 px-4 border">11.29%</td>
              </tr>
              <tr>
                <td class="py-2 px-4 border">WWTP</td>
                <td class="py-2 px-4 border">0.00%</td>
                <td class="py-2 px-4 border">0.00%</td>
              </tr>
              <tr class="bg-blue-200">
                <td class="py-2 px-4 border font-bold">Total</td>
                <td class="py-2 px-4 border">0.54%</td>
                <td class="py-2 px-4 border">34.86%</td>
              </tr>
            </tbody>
          </table>
        </div> -->
      </div>
      <!-- <div class="pt-6 pb-6">
        <table class="table-auto w-full border-collapse border border-white-200">
          <thead class="colorprimary text-white">
            <tr>
              <th class="py-2 px-4 border" rowspan="2">
                Contract<br />Information
              </th>
              <th class="py-2 px-4 border" colspan="3">
                Work Progress this <span data-nameweek="true"></span>
              </th>
              <th class="py-2 px-4 border" colspan="3">
                Time Schedule up to <span data-nameweek="true"></span>
              </th>
            </tr>
            <tr>
              <th class="py-2 px-4 border">Plan Cumm.</th>
              <th class="py-2 px-4 border">Real Cumm.</th>
              <th class="py-2 px-4 border">Deviation</th>
              <th class="py-2 px-4 border">Based</th>
              <th class="py-2 px-4 border">Used</th>
              <th class="py-2 px-4 border">Reminder</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="py-2 px-4 border">
                INITIAL<br />0150/UN26/HETI.RSPTN/2024<br />March 8, 2023 -
                August 30, 2024
              </td>
              <td class="py-2 px-4 border">45.04%</td>
              <td class="py-2 px-4 border">0.00%</td>
              <td class="py-2 px-4 border">0.00%</td>
              <td class="py-2 px-4 border">542 Days<br />78 Week</td>
              <td class="py-2 px-4 border">282 Days<br />41 Week</td>
              <td class="py-2 px-4 border">260 Days<br />37 Week</td>
            </tr>
            <tr>
              <td class="py-2 px-4 border">
                CCO-01<br />xxxxxxxxxxxxxxxx<br />March 8, 2023 - October 18,
                2024
              </td>
              <td class="py-2 px-4 border">34.32%</td>
              <td class="py-2 px-4 border">37.98%</td>
              <td class="py-2 px-4 border">3.65%</td>
              <td class="py-2 px-4 border">591 Days<br />85 Week</td>
              <td class="py-2 px-4 border">282 Days<br />41 Week</td>
              <td class="py-2 px-4 border">309 Days<br />44 Week</td>
            </tr>
          </tbody>
        </table>
      </div> -->

      <!-- <div class="pt-6 pb-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <div class="block mb-4 text-bold colorprimary text-white p-4">
              Graph of work progress for all locations this <span data-nameweek="true"></span> and
              the previous ( Week 40 )
            </div>
            <canvas id="ctxGrafik1" style="
                  display: block;
                  box-sizing: border-box;
                  height: 311px;
                  width: 622px;
                " width="622" height="311"></canvas>
          </div>
          <div>
            <div class="block mb-4 text-bold colorprimary text-white p-4">
              Work progress graph for each building this <span data-nameweek="true"></span>
            </div>
            <canvas id="ctxGrafik2" style="
                  display: block;
                  box-sizing: border-box;
                  height: 311px;
                  width: 622px;
                " width="622" height="311"></canvas>
          </div>
        </div>
      </div> -->



      <div class="pt-6 pb-6">
        <div class="block mb-4 text-bold colorprimary text-white p-4">
          WORK PROGRESS (PHOTO) WEEK 41
        </div>
        <div class="flex space-x-4 border-b-2 mb-4">
          <button class="tab-button py-2 px-4 rounded-t-lg focus:outline-none active"
            onclick="showGallery(&#39;RSPTN&#39;, this)">
            RSPTN
          </button>
          <button class="tab-button py-2 px-4 rounded-t-lg focus:outline-none"
            onclick="showGallery(&#39;IRC&#39;, this)">
            IRC
          </button>
          <button class="tab-button py-2 px-4 rounded-t-lg focus:outline-none"
            onclick="showGallery(&#39;WWTP&#39;, this)">
            WWTP
          </button>
        </div>
        <div class="gallery-container">
          <div id="RSPTN" class="gallery active">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"> </div>
          </div>
          <div id="IRC" class="gallery">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"> </div>
          </div>
          <div id="WWTP" class="gallery">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
              <p>No images available</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Contact Section -->
  <section id="contact" class="colorprimary text-white py-16">
    <div class="ml-6 mr-6 mx-auto flex flex-wrap items-center justify-between px-4">
      <!-- Bagian kiri: Peta -->
      <div class="w-full md:w-1/2 mb-6 md:mb-0">
        <iframe src="./MONITORING CIVIL WORK -41_files/embed.html" width="600" height="300" style="border: 0"
          allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
      <!-- Bagian kanan: Alamat dan Kontak -->
      <div class="w-full md:w-1/2 text-center md:text-left md:pl-8">
        <h2 class="text-3xl font-bold mb-4">Contact Us</h2>
        <p class="mb-6">
          Get in touch with us for more information about our programs and
          services.
        </p>
        <p class="mb-2">
          <i class="fas fa-envelope mr-2"></i><strong>Email:</strong>
          <a href="mailto:pmsc.unilaproject@gmail.com"
            class="text-gray-200 hover:underline">pmsc.unilaproject@gmail.com</a>
        </p>
        <p class="mb-2">
          <i class="fas fa-phone-alt mr-2"></i><strong>Phone:</strong>
          <a href="https://wa.me/6285954041681" class="text-gray-200 hover:underline">+62 859-5404-1681</a>
        </p>
        <p class="mb-2">
          <i class="fas fa-map-marker-alt mr-2"></i><strong>Address:</strong> Universitas Lampung, Jl. Sumantri
          Brojonegoro No.1, Bandar Lampung
        </p>
        <div class="mt-6">
          <h3 class="text-2xl font-bold mb-4">Follow Us</h3>
          <div class="flex justify-center md:justify-start space-x-4">
            <a href="https://unilaprojectheti.id/monitoring/cvw?timeline_week=41#"
              class="text-gray-200 hover:underline">Facebook <i class="fas fa-facebook-f"></i></a>
            <a href="https://unilaprojectheti.id/monitoring/cvw?timeline_week=41#"
              class="text-gray-200 hover:underline">Twitter/X <i class="fas fa-twitter"></i></a>
            <a href="https://www.instagram.com/heti_unila/" class="text-gray-200 hover:underline">Instagram <i
                class="fas fa-instagram"></i></a>
            <a href="https://unilaprojectheti.id/monitoring/cvw?timeline_week=41#"
              class="text-gray-200 hover:underline"><i class="fas fa-linkedin-in"></i>Linkedin
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer Section -->
  <footer class="bg-gray-800 text-white py-6">
    <div class="container mx-auto text-center px-4">
      <p>
        Â© PMSC UNILA HETI PROJECT ADB 2024 | All rights reserved | Created by
        <a href="https://wiiver.id/about-us/" target="_blank" class="text-gray-200 hover:underline">Rio Ananda Putra</a>
      </p>
    </div>
  </footer>

  <script src="./MONITORING CIVIL WORK -41_files/jquery-3.7.1.min.js.download"></script>
  <script src="./MONITORING CIVIL WORK -41_files/chart.js.download"></script>
  <script src="./MONITORING CIVIL WORK -41_files/jquery.fancybox.min.js.download"></script>
  <script src="/data/scurve.js"></script>

  <script>
    // JavaScript untuk menyembunyikan preloader setelah halaman dimuat
    window.addEventListener("load", function () {
      const preloader = document.getElementById("preloader");
      preloader.style.display = "none";
    });
    document.querySelector("button").addEventListener("click", function () {
      const dropdown = this.nextElementSibling;
      dropdown.classList.toggle("hidden");
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script src="/data/scurve.js"></script>
  <script>
    fetch("/data/week41.json")
      .then((response) => response.json())
      .then((data) => {
        console.log(data);
        $("[data-nameweek='true']").text(data.name);
      });
    $(document).ready(function () {
      // grafik_1();
      // grafik_2();
      grafik_3();



      $("#weekFilter").select2({
        placeholder: "Select week",

      });

      fetch("/data/week41.json")
        .then((response) => response.json())
        .then((data) => {
          console.log(data);


          $("#buildingRSPTN").html(`
         <td class="py-2 px-4 border">RSPTN</td>
                <td class="py-2 px-4 border">${data.details.RSPTN.prevCummPlan}%</td>
                <td class="py-2 px-4 border">${data.details.RSPTN.plan}%</td>
                <td class="py-2 px-4 border">${data.details.RSPTN.cummPlan}%</td>
                <td class="py-2 px-4 border">${data.details.RSPTN.prevCummReal}%</td>
                <td class="py-2 px-4 border">${data.details.RSPTN.real}%</td>
                <td class="py-2 px-4 border">${data.details.RSPTN.cummReal}%</td>
                <td class="py-2 px-4 border">${data.details.RSPTN.deviation}%</td>
                <td class="py-2 px-4 border">${data.details.RSPTN.remaining}%</td>
          `)
          $("#buildingIRC").html(`
         <td class="py-2 px-4 border">IRC</td>
                <td class="py-2 px-4 border">${data.details.IRC.prevCummPlan}%</td>
                <td class="py-2 px-4 border">${data.details.IRC.plan}%</td>
                <td class="py-2 px-4 border">${data.details.IRC.cummPlan}%</td>
                <td class="py-2 px-4 border">${data.details.IRC.prevCummReal}%</td>
                <td class="py-2 px-4 border">${data.details.IRC.real}%</td>
                <td class="py-2 px-4 border">${data.details.IRC.cummReal}%</td>
                <td class="py-2 px-4 border">${data.details.IRC.deviation}%</td>
                <td class="py-2 px-4 border">${data.details.IRC.remaining}%</td>
          `)
          $("#buildingWWTP").html(`
         <td class="py-2 px-4 border">WWTP</td>
                <td class="py-2 px-4 border">${data.details.WWTP.prevCummPlan}%</td>
                <td class="py-2 px-4 border">${data.details.WWTP.plan}%</td>
                <td class="py-2 px-4 border">${data.details.WWTP.cummPlan}%</td>
                <td class="py-2 px-4 border">${data.details.WWTP.prevCummReal}%</td>
                <td class="py-2 px-4 border">${data.details.WWTP.real}%</td>
                <td class="py-2 px-4 border">${data.details.WWTP.cummReal}%</td>
                <td class="py-2 px-4 border">${data.details.WWTP.deviation}%</td>
                <td class="py-2 px-4 border">${data.details.WWTP.remaining}%</td>
          `)
          $("#buildingTotal").html(`
          <td class="py-2 px-4 border">Total</td>
                  <td class="py-2 px-4 border">${data.details.total.prevCummPlan}%</td>
                  <td class="py-2 px-4 border">${data.details.total.plan}%</td>
                  <td class="py-2 px-4 border">${data.details.total.cummPlan}%</td>
                  <td class="py-2 px-4 border">${data.details.total.prevCummReal}%</td>
                  <td class="py-2 px-4 border">${data.details.total.real}%</td>
                  <td class="py-2 px-4 border">${data.details.total.cummReal}%</td>
                  <td class="py-2 px-4 border">${data.details.total.deviation}%</td>
                  <td class="py-2 px-4 border">${data.details.total.remaining}%</td>
            `)

          const rsptnPhotos = data.photos.filter((photo) =>
            photo.building === "RSPTN"
          );

          const ircPhotos = data.photos.filter((photo) =>
            photo.building === "IRC"
          );
          const wwtpPhotos = data.photos.filter((photo) =>
            photo.building === "WWTP"
          );

          let gall = ''
          rsptnPhotos.forEach((photo) => {
            gall += `
        <a href="${photo.file_name}" data-fancybox="gallery" class="block" data-caption="${photo.caption}">
        <img src="${photo.file_name}" alt="${photo.caption}" class="w-full h-auto shadow-md" />
        <figcaption class="bg-gray-200 p-2">
          ${photo.caption}
        </figcaption>
      </a>`
          })
          if (rsptnPhotos.length === 0) {
            gall = '<p>No images available</p>'
          }
          $("#RSPTN>div")[0].innerHTML = gall
          gall = ''
          ircPhotos.forEach((photo) => {
            gall += `
        <a href="${photo.file_name}" data-fancybox="gallery" class="block" data-caption="${photo.caption}">
        <img src="${photo.file_name}" alt="${photo.caption}" class="w-full h-auto shadow-md" />
        <figcaption class="bg-gray-200 p-2">
          ${photo.caption}
        </figcaption>
      </a>
        `
          })
          if (ircPhotos.length === 0) {
            gall = '<p>No images available</p>'
          }
          $("#IRC>div")[0].innerHTML = gall
          gall = ''
          wwtpPhotos.forEach((photo) => {
            gall += `
        <a href="${photo.file_name}" data-fancybox="gallery" class="block" data-caption="${photo.caption}">
        <img src="${photo.file_name}" alt="${photo.caption}" class="w-full h-auto shadow-md" />
        <figcaption class="bg-gray-200 p-2">
          ${photo.caption}
        </figcaption>
      </a>
        `
          })
          if (wwtpPhotos.length === 0) {
            gall = '<p>No images available</p>'
          }
          $("#WWTP>div")[0].innerHTML = gall
        });
    });

    function showGallery(location, btn) {
      document.querySelectorAll(".gallery").forEach((gallery) => {
        gallery.classList.remove("active");
      });
      document.getElementById(location).classList.add("active");
      document.querySelectorAll(".tab-button").forEach((button) => {
        button.classList.remove("active");
      });
      btn.classList.add("active");
    }

    // const latestSelectedTimeline = {
    //   timeline_id: "44",
    //   timeline_week: "41",
    //   timeline_day: 282,
    //   timeline_start: "2024-12-08",
    //   timeline_end: "2024-12-14",
    //   timeline_video: null,
    //   timeline_selected: true,
    //   timeline_data: [
    //     {
    //       contract_id: "1",
    //       contract_name: "INITIAL",
    //       contract_number: "0150\/UN26\/HETI.RSPTN\/2024",
    //       contract_date_start: "2023-03-08",
    //       contract_date_end: "2024-08-30",
    //       contract_day_count: 542,
    //       contract_week_count: 78,
    //       contract_selected_plan: 1,
    //       contract_selected_real: 0,
    //       contract_color_plan: "#FF6181",
    //       contract_color_real: "#36A3ED",
    //       contract_cumm_plan: "45.04",
    //       contract_cumm_real: "0.00",
    //       contract_deviation: "0.00",
    //       contract_data: [
    //         {
    //           location_id: "1",
    //           location_name: "RSPTN",
    //           location_weight: "68.74",
    //           proggress_curr_plan: "2.83",
    //           proggress_curr_real: "0.00",
    //           proggress_cumm_plan: "45.04",
    //           proggress_cumm_real: "0.00",
    //           proggress_deviation: "0.00",
    //         },
    //         {
    //           location_id: "2",
    //           location_name: "IRC",
    //           location_weight: "31.26",
    //           proggress_curr_plan: "0.00",
    //           proggress_curr_real: "0.00",
    //           proggress_cumm_plan: "0.00",
    //           proggress_cumm_real: "0.00",
    //           proggress_deviation: "0.00",
    //         },
    //         {
    //           location_id: "3",
    //           location_name: "WWTP",
    //           location_weight: "0.00",
    //           proggress_curr_plan: "0.00",
    //           proggress_curr_real: "0.00",
    //           proggress_cumm_plan: "0.00",
    //           proggress_cumm_real: "0.00",
    //           proggress_deviation: "0.00",
    //         },
    //       ],
    //     },
    //     {
    //       contract_id: "2",
    //       contract_name: "CCO-01",
    //       contract_number: "xxxxxxxxxxxxxxxx",
    //       contract_date_start: "2023-03-08",
    //       contract_date_end: "2024-10-18",
    //       contract_day_count: 591,
    //       contract_week_count: 85,
    //       contract_selected_plan: 1,
    //       contract_selected_real: 1,
    //       contract_color_plan: "#FFA041",
    //       contract_color_real: "#008000",
    //       contract_cumm_plan: "34.32",
    //       contract_cumm_real: "37.98",
    //       contract_deviation: "3.65",
    //       contract_data: [
    //         {
    //           location_id: "1",
    //           location_name: "RSPTN",
    //           location_weight: "71.90",
    //           proggress_curr_plan: "0.37",
    //           proggress_curr_real: "1.53",
    //           proggress_cumm_plan: "23.18",
    //           proggress_cumm_real: "27.82",
    //           proggress_deviation: "4.64",
    //         },
    //         {
    //           location_id: "2",
    //           location_name: "IRC",
    //           location_weight: "28.00",
    //           proggress_curr_plan: "0.15",
    //           proggress_curr_real: "0.27",
    //           proggress_cumm_plan: "11.14",
    //           proggress_cumm_real: "10.16",
    //           proggress_deviation: "-0.99",
    //         },
    //         {
    //           location_id: "3",
    //           location_name: "WWTP",
    //           location_weight: "0.00",
    //           proggress_curr_plan: "0.00",
    //           proggress_curr_real: "0.00",
    //           proggress_cumm_plan: "0.00",
    //           proggress_cumm_real: "0.00",
    //           proggress_deviation: "0.00",
    //         },
    //       ],
    //     },
    //   ],
    // };
    // const previousTimeline = {
    //   timeline_id: "43",
    //   timeline_week: "40",
    //   timeline_day: 275,
    //   timeline_start: "2024-12-01",
    //   timeline_end: "2024-12-07",
    //   timeline_video: null,
    //   timeline_selected: true,
    //   timeline_data: [
    //     {
    //       contract_id: "1",
    //       contract_name: "INITIAL",
    //       contract_number: "0150\/UN26\/HETI.RSPTN\/2024",
    //       contract_date_start: "2023-03-08",
    //       contract_date_end: "2024-08-30",
    //       contract_day_count: 542,
    //       contract_week_count: 78,
    //       contract_selected_plan: 1,
    //       contract_selected_real: 0,
    //       contract_color_plan: "#FF6181",
    //       contract_color_real: "#36A3ED",
    //       contract_cumm_plan: "39.63",
    //       contract_cumm_real: "37.21",
    //       contract_deviation: "-2.43",
    //       contract_data: [
    //         {
    //           location_id: "1",
    //           location_name: "RSPTN",
    //           location_weight: "68.74",
    //           proggress_curr_plan: "1.66",
    //           proggress_curr_real: "0.42",
    //           proggress_cumm_plan: "30.85",
    //           proggress_cumm_real: "25.06",
    //           proggress_deviation: "-5.80",
    //         },
    //         {
    //           location_id: "2",
    //           location_name: "IRC",
    //           location_weight: "31.26",
    //           proggress_curr_plan: "0.92",
    //           proggress_curr_real: "0.05",
    //           proggress_cumm_plan: "8.78",
    //           proggress_cumm_real: "12.15",
    //           proggress_deviation: "3.37",
    //         },
    //         {
    //           location_id: "3",
    //           location_name: "WWTP",
    //           location_weight: "0.00",
    //           proggress_curr_plan: "0.00",
    //           proggress_curr_real: "0.00",
    //           proggress_cumm_plan: "0.00",
    //           proggress_cumm_real: "0.00",
    //           proggress_deviation: "0.00",
    //         },
    //       ],
    //     },
    //     {
    //       contract_id: "2",
    //       contract_name: "CCO-01",
    //       contract_number: "xxxxxxxxxxxxxxxx",
    //       contract_date_start: "2023-03-08",
    //       contract_date_end: "2024-10-18",
    //       contract_day_count: 591,
    //       contract_week_count: 85,
    //       contract_selected_plan: 1,
    //       contract_selected_real: 1,
    //       contract_color_plan: "#FFA041",
    //       contract_color_real: "#008000",
    //       contract_cumm_plan: "33.81",
    //       contract_cumm_real: "36.17",
    //       contract_deviation: "2.37",
    //       contract_data: [
    //         {
    //           location_id: "1",
    //           location_name: "RSPTN",
    //           location_weight: "71.90",
    //           proggress_curr_plan: "0.35",
    //           proggress_curr_real: "2.82",
    //           proggress_cumm_plan: "22.81",
    //           proggress_cumm_real: "26.28",
    //           proggress_deviation: "3.48",
    //         },
    //         {
    //           location_id: "2",
    //           location_name: "IRC",
    //           location_weight: "28.00",
    //           proggress_curr_plan: "0.15",
    //           proggress_curr_real: "0.04",
    //           proggress_cumm_plan: "11.00",
    //           proggress_cumm_real: "9.89",
    //           proggress_deviation: "-1.11",
    //         },
    //         {
    //           location_id: "3",
    //           location_name: "WWTP",
    //           location_weight: "0.00",
    //           proggress_curr_plan: "0.00",
    //           proggress_curr_real: "0.00",
    //           proggress_cumm_plan: "0.00",
    //           proggress_cumm_real: "0.00",
    //           proggress_deviation: "0.00",
    //         },
    //       ],
    //     },
    //   ],
    // };

    // function grafik_1() {
    //   const ctx = document.getElementById("ctxGrafik1");
    //   const labels = [];
    //   const datasets = [];

    //   function addData(timeline, labelPrefix) {
    //     if (timeline) {
    //       labels.push(labelPrefix + " " + timeline.timeline_week);
    //       timeline.timeline_data.forEach((contract) => {
    //         let dataset = datasets.find(
    //           (ds) =>
    //             ds.label ===
    //             "PLAN CUMULATIVE [ " + contract.contract_name + " ]"
    //         );
    //         if (!dataset) {
    //           dataset = {
    //             label: "PLAN CUMULATIVE [ " + contract.contract_name + " ]",
    //             data: [],
    //             borderWidth: 1,
    //             backgroundColor: contract.contract_color_plan,
    //             borderColor: contract.contract_color_plan,
    //           };
    //           datasets.push(dataset);
    //         }
    //         dataset.data.push(
    //           contract.contract_selected_plan
    //             ? parseFloat(contract.contract_cumm_plan)
    //             : null
    //         );

    //         dataset = datasets.find(
    //           (ds) =>
    //             ds.label ===
    //             "REAL CUMULATIVE [ " + contract.contract_name + " ]"
    //         );
    //         if (!dataset) {
    //           dataset = {
    //             label: "REAL CUMULATIVE [ " + contract.contract_name + " ]",
    //             data: [],
    //             borderWidth: 1,
    //             backgroundColor: contract.contract_color_real,
    //             borderColor: contract.contract_color_real,
    //           };
    //           datasets.push(dataset);
    //         }
    //         dataset.data.push(
    //           timeline.timeline_selected && contract.contract_selected_real
    //             ? parseFloat(contract.contract_cumm_real)
    //             : null
    //         );
    //       });
    //     }
    //   }

    //   addData(previousTimeline, "WEEK");
    //   addData(latestSelectedTimeline, "WEEK");

    //   new Chart(ctx, {
    //     type: "bar",
    //     data: {
    //       labels: labels,
    //       datasets: datasets,
    //     },
    //     options: {
    //       scales: {
    //         y: {
    //           beginAtZero: true,
    //         },
    //       },
    //       interaction: {
    //         intersect: false,
    //         mode: "index",
    //       },
    //       plugins: {
    //         legend: {
    //           display: true,
    //           labels: {
    //             boxWidth: 20,
    //           },
    //           position: "top",
    //           maxWidth: 1,
    //         },
    //         tooltip: {
    //           callbacks: {
    //             label: function (context) {
    //               let label = context.dataset.label || "";
    //               if (label) {
    //                 label += " : ";
    //               }
    //               if (context.parsed.y !== null) {
    //                 label += context.parsed.y.toFixed(2) + "%";
    //               }
    //               if (context.dataset.label.includes("REAL CUMULATIVE")) {
    //                 const contractName = context.dataset.label
    //                   .split(" [ ")[1]
    //                   .split(" ]")[0];
    //                 const timeline = context.label.includes(
    //                   "WEEK " + latestSelectedTimeline.timeline_week
    //                 )
    //                   ? latestSelectedTimeline
    //                   : previousTimeline;
    //                 const contract = timeline.timeline_data.find(
    //                   (c) => c.contract_name === contractName
    //                 );
    //                 if (contract) {
    //                   label +=
    //                     " ( Deviation: " +
    //                     parseFloat(contract.contract_deviation).toFixed(2) +
    //                     "% )";
    //                 }
    //               }
    //               return label;
    //             },
    //           },
    //         },
    //         responsive: true,
    //       },
    //     },
    //   });
    // }

    // function grafik_2() {
    //   const ctx = document.getElementById("ctxGrafik2");
    //   const labels = [];
    //   const datasets = [];

    //   if (latestSelectedTimeline) {
    //     latestSelectedTimeline.timeline_data.forEach((contract) => {
    //       contract.contract_data.forEach((location) => {
    //         if (!labels.includes(location.location_name)) {
    //           labels.push(location.location_name);
    //         }
    //       });

    //       let planDataset = {
    //         label: "PLAN CUMULATIVE [ " + contract.contract_name + " ]",
    //         data: [],
    //         borderWidth: 1,
    //         backgroundColor: contract.contract_color_plan,
    //         borderColor: contract.contract_color_plan,
    //       };

    //       let realDataset = {
    //         label: "REAL CUMULATIVE [ " + contract.contract_name + " ]",
    //         data: [],
    //         borderWidth: 1,
    //         backgroundColor: contract.contract_color_real,
    //         borderColor: contract.contract_color_real,
    //       };

    //       if (contract.contract_data.length === 0) {
    //         labels.forEach(() => {
    //           planDataset.data.push(0);
    //           realDataset.data.push(0);
    //         });
    //       } else {
    //         contract.contract_data.forEach((location) => {
    //           planDataset.data.push(
    //             contract.contract_selected_plan
    //               ? parseFloat(location.proggress_cumm_plan)
    //               : null
    //           );
    //           realDataset.data.push(
    //             latestSelectedTimeline.timeline_selected &&
    //               contract.contract_selected_real
    //               ? parseFloat(location.proggress_cumm_real)
    //               : null
    //           );
    //         });
    //       }

    //       datasets.push(planDataset);
    //       datasets.push(realDataset);
    //     });
    //   }

    //   new Chart(ctx, {
    //     type: "bar",
    //     data: {
    //       labels: labels,
    //       datasets: datasets,
    //     },
    //     options: {
    //       scales: {
    //         y: {
    //           beginAtZero: true,
    //         },
    //       },
    //       interaction: {
    //         intersect: false,
    //         mode: "index",
    //       },
    //       plugins: {
    //         legend: {
    //           display: true,
    //           labels: {
    //             boxWidth: 20,
    //           },
    //           position: "top",
    //           maxWidth: 1,
    //         },
    //         tooltip: {
    //           callbacks: {
    //             label: function (context) {
    //               let label = context.dataset.label || "";
    //               if (label) {
    //                 label += " : ";
    //               }
    //               if (context.parsed.y !== null) {
    //                 label += context.parsed.y.toFixed(2) + "%";
    //               }
    //               if (context.dataset.label.includes("REAL CUMULATIVE")) {
    //                 const contractName = context.dataset.label
    //                   .split(" [ ")[1]
    //                   .split(" ]")[0];
    //                 const contract =
    //                   latestSelectedTimeline.timeline_data.find(
    //                     (c) => c.contract_name === contractName
    //                   );
    //                 if (contract) {
    //                   const location =
    //                     contract.contract_data[context.dataIndex];
    //                   if (location) {
    //                     label +=
    //                       " ( Deviation: " +
    //                       parseFloat(location.proggress_deviation).toFixed(
    //                         2
    //                       ) +
    //                       "% )";
    //                   }
    //                 }
    //               }
    //               return label;
    //             },
    //           },
    //         },
    //         responsive: true,
    //       },
    //     },
    //   });
    // }

    function grafik_3() {
      const ctx = document.getElementById("ctxGrafik3");
      const labels = [];
      const datasets = [
        {
          label: "PLAN CUMULATIVE [ INITIAL ]",
          data: initialPlan,
          borderColor: "orange",
          backgroundColor: "orange",
        },
        {
          label: "REAL CUMULATIVE [ INITIAL ]",
          data: initialReal,
          borderColor: "#05f746",
          backgroundColor: "#05f746",
        },
        {
          label: "PLAN CUMULATIVE [ CCO-01 ]",
          data: cco1Plan,
          borderColor: "red",
          backgroundColor: "red",
        },
        {
          label: "REAL CUMULATIVE [ CCO-01 ]",
          data: cco1Real,
          borderColor: "#167d10",
          backgroundColor: "#167d10",
        },
      ];

      for (let i = 0; i < 85; i++) {
        labels.push(i + 1);
      }

      new Chart(ctx, {
        type: "line",
        data: {
          labels: labels,
          datasets: datasets,
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
            },
          },
          interaction: {
            intersect: false,
            mode: "index",
          },
          plugins: {
            legend: {
              display: true,
              labels: {
                boxWidth: 20,
              },
              position: "top",
              maxWidth: 1,
            },
            tooltip: {
              callbacks: {
                title: function (context) {
                  return "WEEK " + context[0].label;
                },
                label: function (context) {
                  let label = context.dataset.label || "";
                  if (label) {
                    label += " : ";
                  }
                  if (context.parsed.y !== null) {
                    label += context.parsed.y.toFixed(2) + "%";
                  }
                  if (context.dataset.label.includes("REAL")) {
                    if (context.dataset.label.includes("INITIAL")) {
                      const deviation =
                        initialPlan[context.dataIndex] === 0
                          ? 0
                          : initialReal[context.dataIndex] -
                          initialPlan[context.dataIndex];
                      label +=
                        " ( Deviation: " + deviation.toFixed(2) + "% )";
                    } else if (context.dataset.label.includes("CCO-01")) {
                      const deviation =
                        cco1Plan[context.dataIndex] === 0
                          ? 0
                          : cco1Real[context.dataIndex] -
                          cco1Plan[context.dataIndex];
                      label +=
                        " ( Deviation: " + deviation.toFixed(2) + "% )";
                    }
                  }

                  return label;
                },
              },
            },
            responsive: true,
          },
        },
      });
    }
  </script>
</body>

</html>